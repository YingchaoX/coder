# 08. Skills 实现（目标态）

## 1. 目标与范围
- Skills 默认开启。
- 来源为本地 `SKILL.md` 文件。
- 不依赖网络下载，不依赖 MCP。

## 2. 发现机制
- 启动时扫描 `skills.paths` 指定目录。
- 发现规则：目录下 `SKILL.md`。
- 元数据来源：
  - 优先 frontmatter（`name/description`）
  - 回退目录名 + 首段描述
- 同名冲突：启动期报错并提示冲突来源。

## 3. 工具契约
`skill` 工具支持：
- `action=list`：返回技能列表（`name/description`）
- `action=load`：返回技能全文

## 4. 触发路径
- 显式触发：模型直接调用 `skill` 工具。
- 自动触发：模型在规划阶段基于任务语义决定是否调用 skill。

说明：是否触发由模型决策；系统只提供可见技能清单与稳定调用路径。

## 5. 权限与审批
- `deny`：直接拒绝。
- `ask`：显式 `load` 可走审批。
- 自动触发路径可免交互审批，但不豁免 `deny`。

## 6. 失败回退
- 技能不存在或加载失败时：返回可读错误，并回退到无 skill 路径继续执行。
- skills 扫描失败时：系统降级运行，不阻塞核心对话与工具链。
